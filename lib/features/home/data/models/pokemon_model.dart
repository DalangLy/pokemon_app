import 'dart:convert';
import 'package:pokemon_app/features/home/domain/entities/pokemon.dart';

class PokemonModel extends Pokemon{
  PokemonModel({
    required String name,
    required String id,
    required String imageUrl,
    required String xDescription,
    required String yDescription,
    required String height,
    required String category,
    required String weight,
    required List<String> typeOfPokemon,
    required List<String> weaknesses,
    required List<String> evolutions,
    required List<String> abilities,
    required int hp,
    required int attack,
    required int defense,
    required int specialAttack,
    required int specialDefense,
    required int speed,
    required int total,
    required String malePercentage,
    required String femalePercentage,
    required int genderless,
    required String cycles,
    required String eggGroups,
    required String evolvedFrom,
    required String reason,
    required String baseExp,
  }) : super(
      name: name,
      id: id,
      imageUrl: imageUrl,
      xDescription: xDescription,
      yDescription: yDescription,
      height: height,
      category: category,
      weight: weight,
      typeOfPokemon: typeOfPokemon,
      weaknesses: weaknesses,
      evolutions: evolutions,
      abilities: abilities,
      hp: hp,
      attack: attack,
      defense: defense,
      specialAttack: specialAttack,
      specialDefense: specialDefense,
      speed: speed,
      total: total,
      malePercentage: malePercentage,
      femalePercentage: femalePercentage,
      genderless: genderless,
      cycles: cycles,
      eggGroups: eggGroups,
      evolvedFrom: evolvedFrom,
      reason: reason,
      baseExp: baseExp,
  );

  factory PokemonModel.fromJson(String str) => PokemonModel.fromMap(json.decode(str));

  String toJson() => json.encode(toMap());

  factory PokemonModel.fromMap(Map<String, dynamic> json) => PokemonModel(
    name: json["name"] ?? '',
    id: json["id"] ?? '',
    imageUrl: json["imageurl"] ?? '',
    xDescription: json["xdescription"] ?? '',
    yDescription: json["ydescription"] ?? '',
    height: json["height"] ?? '',
    category: json["category"] ?? '',
    weight: json["weight"] ?? '',
    typeOfPokemon: List<String>.from(json["typeofpokemon"].map((x) => x)),
    weaknesses: List<String>.from(json["weaknesses"].map((x) => x)),
    evolutions: List<String>.from(json["evolutions"].map((x) => x)),
    abilities: List<String>.from(json["abilities"].map((x) => x)),
    hp: json["hp"] ?? 0,
    attack: json["attack"] ?? 0,
    defense: json["defense"] ?? 0,
    specialAttack: json["special_attack"] ?? 0,
    specialDefense: json["special_defense"] ?? 0,
    speed: json["speed"] ?? 0,
    total: json["total"] ?? 0,
    malePercentage: json["male_percentage"] ?? '',
    femalePercentage: json["female_percentage"] ?? '',
    genderless: json["genderless"] ?? '',
    cycles: json["cycles"] ?? '',
    eggGroups: json["egg_groups"] ?? '',
    evolvedFrom: json["evolvedfrom"] ?? '',
    reason: json["reason"] ?? '',
    baseExp: json["base_exp"] ?? '',
  );

  Map<String, dynamic> toMap() => {
    "name": name,
    "id": id,
    "imageurl": imageUrl,
    "xdescription": xDescription,
    "ydescription": yDescription,
    "height": height,
    "category": category,
    "weight": weight,
    "typeofpokemon": List<dynamic>.from(typeOfPokemon.map((x) => x)),
    "weaknesses": List<dynamic>.from(weaknesses.map((x) => x)),
    "evolutions": List<dynamic>.from(evolutions.map((x) => x)),
    "abilities": List<dynamic>.from(abilities.map((x) => x)),
    "hp": hp,
    "attack": attack,
    "defense": defense,
    "special_attack": specialAttack,
    "special_defense": specialDefense,
    "speed": speed,
    "total": total,
    "male_percentage": malePercentage,
    "female_percentage": femalePercentage,
    "genderless": genderless,
    "cycles": cycles,
    "egg_groups": eggGroups,
    "evolvedfrom": evolvedFrom,
    "reason": reason,
    "base_exp": baseExp,
  };
}
